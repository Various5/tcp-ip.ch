<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Troubleshooting - tcp-ip.ch</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary-color: #00ffff;
            --secondary-color: #ff00ff;
            --accent-color: #00ff88;
            --warning-color: #ffaa00;
            --danger-color: #ff4444;
            --success-color: #00ff44;
            --tool-color: #4169e1;
            --diagnostic-purple: #9966ff;
            --network-blue: #0099ff;
            --bg-dark: #0a0a0f;
            --bg-darker: #050508;
            --bg-card: #111118;
            --bg-section: #161620;
            --text-light: #e0e0ff;
            --text-dim: #a0a0c0;
            --border-glow: rgba(0, 255, 255, 0.3);
            --gradient-diagnostic: linear-gradient(135deg, var(--tool-color), var(--diagnostic-purple));
            --gradient-network: linear-gradient(45deg, var(--network-blue), var(--primary-color));
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Enhanced Background Effects */
        .diagnostic-matrix {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -3;
            opacity: 0.1;
            background-image:
                radial-gradient(circle at 20% 20%, var(--tool-color) 2px, transparent 2px),
                radial-gradient(circle at 80% 80%, var(--diagnostic-purple) 2px, transparent 2px),
                linear-gradient(45deg, var(--tool-color) 1px, transparent 1px),
                linear-gradient(-45deg, var(--network-blue) 1px, transparent 1px);
            background-size: 80px 80px, 100px 100px, 60px 60px, 60px 60px;
            animation: diagnosticPulse 12s ease-in-out infinite alternate;
        }

        @keyframes diagnosticPulse {
            0% { opacity: 0.1; transform: translateX(0) translateY(0); }
            50% { opacity: 0.3; }
            100% { opacity: 0.15; transform: translateX(20px) translateY(20px); }
        }

        /* Floating Network Signals */
        .signal-stream {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            overflow: hidden;
        }

        .network-signal {
            position: absolute;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            padding: 4px 8px;
            background: rgba(65, 105, 225, 0.2);
            border: 1px solid var(--tool-color);
            border-radius: 4px;
            color: var(--tool-color);
            animation: signalFloat 18s infinite linear;
            opacity: 0.6;
        }

        @keyframes signalFloat {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
                filter: hue-rotate(0deg);
            }
            10% { opacity: 0.6; }
            50% { filter: hue-rotate(180deg); }
            90% { opacity: 0.6; }
            100% {
                transform: translateY(-10vh) translateX(100px) rotate(360deg);
                opacity: 0;
                filter: hue-rotate(360deg);
            }
        }

        /* Enhanced Header */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(25px) saturate(180%);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 2px solid var(--border-glow);
            box-shadow: 0 5px 30px rgba(65, 105, 225, 0.2);
        }

        nav {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff0080, #00ffff, #8000ff, #00ff80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 20px rgba(65, 105, 225, 0.5));
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .nav-links a:hover::before {
            left: 100%;
        }

        .nav-links a:hover {
            color: var(--tool-color);
            text-shadow: 0 0 15px currentColor;
            background: rgba(65, 105, 225, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(65, 105, 225, 0.3);
        }

        .nav-links a[style*="tool-color"] {
            color: var(--tool-color);
            background: rgba(65, 105, 225, 0.1);
            box-shadow: 0 0 20px rgba(65, 105, 225, 0.3);
        }

        /* Hero Section */
        .hero {
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            background:
                radial-gradient(circle at 20% 80%, rgba(65, 105, 225, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(153, 102, 255, 0.15) 0%, transparent 50%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(65, 105, 225, 0.05), transparent, rgba(153, 102, 255, 0.05), transparent);
            animation: rotate 50s linear infinite;
            z-index: 1;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 1000px;
            padding: 2rem;
        }

        .hero-title {
            font-size: clamp(3rem, 7vw, 5rem);
            margin-bottom: 1rem;
            background: var(--gradient-diagnostic);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            letter-spacing: -3px;
            opacity: 0;
            animation: titleReveal 2s ease-out 0.5s forwards;
            text-shadow: 0 0 50px rgba(65, 105, 225, 0.3);
        }

        @keyframes titleReveal {
            0% { opacity: 0; transform: translateY(50px) scale(0.8); filter: blur(10px); }
            100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 3vw, 1.8rem);
            color: var(--diagnostic-purple);
            margin-bottom: 1.5rem;
            font-weight: 600;
            opacity: 0;
            animation: fadeInUp 1.5s ease-out 1s forwards;
        }

        .hero-description {
            font-size: clamp(1rem, 2vw, 1.3rem);
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto 3rem;
            opacity: 0;
            animation: fadeInUp 1.5s ease-out 1.5s forwards;
            line-height: 1.8;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); filter: blur(5px); }
            to { opacity: 1; transform: translateY(0); filter: blur(0); }
        }

        /* Enhanced Sections */
        .section {
            padding: 8rem 0;
            max-width: 1600px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
            position: relative;
        }

        .section h2 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 3rem;
            color: var(--tool-color);
            text-align: center;
            position: relative;
            font-weight: 800;
            text-shadow: 0 0 30px rgba(65, 105, 225, 0.3);
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: var(--gradient-diagnostic);
            border-radius: 2px;
            box-shadow: 0 0 20px rgba(65, 105, 225, 0.5);
        }

        /* Network Status Dashboard */
        .network-status {
            background: rgba(22, 22, 32, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 4rem;
            margin: 6rem 0;
            border: 2px solid var(--border-glow);
            position: relative;
            overflow: hidden;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .status-card {
            background: rgba(17, 17, 24, 0.9);
            backdrop-filter: blur(15px);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid var(--border-glow);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .status-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(65, 105, 225, 0.3);
        }

        .status-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .status-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
            text-shadow: 0 0 15px currentColor;
        }

        .status-label {
            color: var(--text-dim);
            font-size: 0.9rem;
            position: relative;
            z-index: 1;
        }

        .status-good { color: var(--success-color); }
        .status-warning { color: var(--warning-color); }
        .status-critical { color: var(--danger-color); }

        /* Enhanced Troubleshooting Methodology */
        .methodology {
            background: var(--bg-section);
            border-radius: 30px;
            padding: 5rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
            position: relative;
            overflow: hidden;
        }

        .methodology::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 70%, rgba(65, 105, 225, 0.05), transparent 50%);
            z-index: 0;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            margin: 4rem 0;
            position: relative;
            z-index: 1;
        }

        .step-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid var(--border-glow);
            text-align: center;
            position: relative;
            transition: all 0.4s ease;
            transform: translateY(20px);
            opacity: 0;
        }

        .step-card.animate {
            transform: translateY(0);
            opacity: 1;
        }

        .step-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 25px 50px rgba(65, 105, 225, 0.3);
        }

        .step-number {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: var(--gradient-diagnostic);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 10px 30px rgba(65, 105, 225, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }

        .step-icon {
            font-size: 3rem;
            margin: 2rem 0 1rem;
            color: var(--tool-color);
        }

        .step-title {
            color: var(--tool-color);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Enhanced Interactive Tools */
        .interactive-tools {
            background: var(--bg-card);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin: 3rem 0;
        }

        .tool-widget {
            background: var(--bg-section);
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid var(--border-glow);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .tool-widget:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(65, 105, 225, 0.3);
        }

        .tool-title {
            color: var(--primary-color);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }

        .tool-input {
            width: 100%;
            padding: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border-glow);
            border-radius: 10px;
            color: var(--text-light);
            margin-bottom: 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .tool-input:focus {
            outline: none;
            border-color: var(--tool-color);
            box-shadow: 0 0 15px rgba(65, 105, 225, 0.3);
        }

        .tool-button {
            background: var(--gradient-diagnostic);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .tool-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .tool-button:hover::before {
            left: 100%;
        }

        .tool-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(65, 105, 225, 0.3);
        }

        .tool-result {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--bg-card);
            border-radius: 10px;
            border: 1px solid var(--border-glow);
            display: none;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
            text-align: left;
            max-height: 300px;
            overflow-y: auto;
        }

        /* Network Topology Visualizer */
        .network-topology {
            background: rgba(22, 22, 32, 0.9);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
        }

        .topology-container {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 3rem;
            margin: 3rem 0;
            position: relative;
            min-height: 400px;
        }

        .network-node {
            position: absolute;
            width: 80px;
            height: 80px;
            background: var(--gradient-diagnostic);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(65, 105, 225, 0.3);
        }

        .network-node:hover {
            transform: scale(1.2);
            box-shadow: 0 15px 40px rgba(65, 105, 225, 0.5);
        }

        .network-link {
            position: absolute;
            height: 4px;
            background: linear-gradient(90deg, var(--tool-color), var(--diagnostic-purple));
            z-index: -1;
            border-radius: 2px;
            animation: linkPulse 2s ease-in-out infinite;
        }

        @keyframes linkPulse {
            0%, 100% { opacity: 0.6; transform: scaleY(1); }
            50% { opacity: 1; transform: scaleY(1.5); }
        }

        /* Advanced Diagnostic Wizard */
        .diagnostic-wizard {
            background: var(--bg-card);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .diagnostic-wizard::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(153, 102, 255, 0.05), transparent 50%);
            z-index: 0;
        }

        .wizard-content {
            position: relative;
            z-index: 1;
        }

        .wizard-step {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .wizard-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .wizard-question {
            font-size: 1.4rem;
            color: var(--primary-color);
            margin-bottom: 2rem;
            font-weight: 600;
        }

        .wizard-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .wizard-option {
            background: var(--bg-section);
            border: 2px solid var(--border-glow);
            border-radius: 15px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .wizard-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(65, 105, 225, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .wizard-option:hover::before {
            left: 100%;
        }

        .wizard-option:hover {
            border-color: var(--primary-color);
            background: rgba(0, 255, 255, 0.1);
            transform: translateY(-5px) scale(1.02);
        }

        .wizard-result {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--accent-color);
            border-radius: 15px;
            padding: 3rem;
            margin-top: 2rem;
        }

        .diagnosis-details {
            text-align: left;
            margin-top: 2rem;
        }

        .diagnosis-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
        }

        /* Real-time Monitoring */
        .monitoring-dashboard {
            background: rgba(17, 17, 24, 0.9);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
        }

        .monitoring-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .monitor-widget {
            background: var(--bg-section);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid var(--border-glow);
            position: relative;
        }

        .monitor-chart {
            height: 150px;
            margin: 1rem 0;
            background: var(--bg-card);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--tool-color), var(--diagnostic-purple));
            animation: chartUpdate 3s ease-in-out infinite;
        }

        @keyframes chartUpdate {
            0%, 100% { height: 20%; }
            50% { height: 80%; }
        }

        /* Scroll Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .fade-in.animate {
            opacity: 1;
            transform: translateY(0);
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
            padding: 4rem 0;
            text-align: center;
            border-top: 2px solid var(--border-glow);
            margin-top: 6rem;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-diagnostic);
            box-shadow: 0 0 20px rgba(65, 105, 225, 0.5);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title { font-size: 3rem; letter-spacing: -1px; }
            .nav-links { display: none; }
            .steps-container { grid-template-columns: 1fr; }
            .tools-grid { grid-template-columns: 1fr; }
            .wizard-options { grid-template-columns: 1fr; }
            .status-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 480px) {
            .status-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Enhanced Background Effects -->
    <div class="diagnostic-matrix"></div>
    <div class="signal-stream" id="signalStream"></div>

    <!-- Header -->
    <header>
        <nav>
            <a href="/" class="logo">tcp-ip.ch</a>
            <ul class="nav-links">
                <li><a href="/">üè† Hub</a></li>
                <li><a href="/protocols">üì° Protocols</a></li>
                <li><a href="/security">üîí Security</a></li>
                <li><a href="/modern-tech">üöÄ Modern Tech</a></li>
                <li><a href="/tools">üõ†Ô∏è Tools</a></li>
                <li><a href="/cloud">‚òÅÔ∏è Cloud</a></li>
                <li><a href="/performance">‚ö° Performance</a></li>
                <li><a href="/osi-model">üìä OSI Model</a></li>
                <li><a href="/troubleshooting" style="color: var(--tool-color);">üîß Troubleshooting</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Network Troubleshooting</h1>
            <div class="hero-subtitle">Professional Problem Resolution & Diagnostics</div>
            <div class="hero-description">
                Master systematic troubleshooting with advanced diagnostic tools, real-time monitoring,
                and professional methodologies that solve network problems faster and more effectively.
            </div>
        </div>
    </section>

    <!-- Real-time Network Status Dashboard -->
    <section class="section fade-in">
        <h2>Network Health Dashboard</h2>
        <div class="network-status">
            <h3 style="color: var(--primary-color); margin-bottom: 3rem; text-align: center; font-size: 2.5rem;">
                üìä Live Network Status & Performance Metrics
            </h3>
            <div class="status-grid">
                <div class="status-card">
                    <div class="status-icon">üåê</div>
                    <div class="status-value status-good" id="connectivityStatus">Online</div>
                    <div class="status-label">Internet Connectivity</div>
                </div>

                <div class="status-card">
                    <div class="status-icon">‚ö°</div>
                    <div class="status-value status-good" id="latencyStatus">12ms</div>
                    <div class="status-label">Network Latency</div>
                </div>

                <div class="status-card">
                    <div class="status-icon">üì°</div>
                    <div class="status-value status-warning" id="signalStrength">-45dBm</div>
                    <div class="status-label">Signal Strength</div>
                </div>

                <div class="status-card">
                    <div class="status-icon">üìä</div>
                    <div class="status-value status-good" id="bandwidthUsage">67%</div>
                    <div class="status-label">Bandwidth Usage</div>
                </div>

                <div class="status-card">
                    <div class="status-icon">üîÑ</div>
                    <div class="status-value status-good" id="packetLoss">0.02%</div>
                    <div class="status-label">Packet Loss</div>
                </div>

                <div class="status-card">
                    <div class="status-icon">üñ•Ô∏è</div>
                    <div class="status-value status-good" id="deviceCount">24</div>
                    <div class="status-label">Connected Devices</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Troubleshooting Methodology -->
    <section class="section fade-in">
        <h2>Professional Troubleshooting Framework</h2>
        <div class="methodology">
            <h3 style="color: var(--primary-color); margin-bottom: 3rem; text-align: center; font-size: 2.5rem; position: relative; z-index: 1;">
                üéØ The DMAIC Network Troubleshooting Process
            </h3>
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon">üîç</div>
                    <div class="step-title">Define the Problem</div>
                    <p>Clearly identify symptoms, scope, and impact. Gather detailed information about when, where, and how the problem occurs.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon">üìä</div>
                    <div class="step-title">Measure & Monitor</div>
                    <p>Collect baseline metrics, performance data, and establish monitoring to track the problem's behavior over time.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon">üî¨</div>
                    <div class="step-title">Analyze Root Cause</div>
                    <p>Use diagnostic tools and systematic analysis to identify the underlying cause, not just the symptoms.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-icon">‚ö°</div>
                    <div class="step-title">Improve & Implement</div>
                    <p>Develop and deploy solutions based on analysis. Test thoroughly before full implementation.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">5</div>
                    <div class="step-icon">üéØ</div>
                    <div class="step-title">Control & Monitor</div>
                    <p>Establish ongoing monitoring to ensure the problem doesn't recur and maintain system performance.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">6</div>
                    <div class="step-icon">üìù</div>
                    <div class="step-title">Document & Learn</div>
                    <p>Record the solution, update procedures, and share knowledge to prevent future occurrences.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced Interactive Diagnostic Tools -->
    <section class="section fade-in">
        <h2>Professional Diagnostic Suite</h2>
        <div class="interactive-tools">
            <h3 style="color: var(--primary-color); margin-bottom: 3rem; text-align: center;">
                üõ†Ô∏è Advanced Network Diagnostic Tools
            </h3>
            <div class="tools-grid">
                <!-- Enhanced Ping Tool -->
                <div class="tool-widget">
                    <div class="tool-title">üèì Advanced Ping Test</div>
                    <input type="text" class="tool-input" id="pingTarget" placeholder="Enter IP or hostname" value="8.8.8.8">
                    <input type="number" class="tool-input" id="pingCount" placeholder="Packet count" value="4" min="1" max="100">
                    <button class="tool-button" onclick="runAdvancedPing()">Run Advanced Ping</button>
                    <div class="tool-result" id="pingResult"></div>
                </div>

                <!-- Enhanced Traceroute Tool -->
                <div class="tool-widget">
                    <div class="tool-title">üó∫Ô∏è Smart Traceroute</div>
                    <input type="text" class="tool-input" id="traceTarget" placeholder="Enter destination" value="google.com">
                    <button class="tool-button" onclick="runSmartTraceroute()">Trace Network Path</button>
                    <div class="tool-result" id="traceResult"></div>
                </div>

                <!-- DNS Analysis Tool -->
                <div class="tool-widget">
                    <div class="tool-title">üîç DNS Analyzer</div>
                    <input type="text" class="tool-input" id="dnsTarget" placeholder="Enter domain name" value="example.com">
                    <select class="tool-input" id="dnsType">
                        <option value="A">A Record</option>
                        <option value="AAAA">AAAA Record</option>
                        <option value="MX">MX Record</option>
                        <option value="NS">NS Record</option>
                        <option value="TXT">TXT Record</option>
                    </select>
                    <button class="tool-button" onclick="runDNSAnalysis()">Analyze DNS</button>
                    <div class="tool-result" id="dnsResult"></div>
                </div>

                <!-- Port Scanner -->
                <div class="tool-widget">
                    <div class="tool-title">üéØ Intelligent Port Scanner</div>
                    <input type="text" class="tool-input" id="scanTarget" placeholder="Enter IP address" value="192.168.1.1">
                    <input type="text" class="tool-input" id="portRange" placeholder="Port range (e.g., 1-1000)" value="1-100">
                    <button class="tool-button" onclick="runPortScan()">Scan Ports</button>
                    <div class="tool-result" id="scanResult"></div>
                </div>

                <!-- Bandwidth Tester -->
                <div class="tool-widget">
                    <div class="tool-title">üìà Bandwidth Analyzer</div>
                    <select class="tool-input" id="testServer">
                        <option value="auto">Auto-select server</option>
                        <option value="us-east">US East</option>
                        <option value="us-west">US West</option>
                        <option value="europe">Europe</option>
                        <option value="asia">Asia</option>
                    </select>
                    <button class="tool-button" onclick="runBandwidthTest()">Test Bandwidth</button>
                    <div class="tool-result" id="bandwidthResult"></div>
                </div>

                <!-- Network Health Check -->
                <div class="tool-widget">
                    <div class="tool-title">üè• Network Health Check</div>
                    <button class="tool-button" onclick="runHealthCheck()">Complete Health Scan</button>
                    <div class="tool-result" id="healthResult"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Network Topology Visualizer -->
    <section class="section fade-in">
        <h2>Network Topology Visualizer</h2>
        <div class="network-topology">
            <h3 style="color: var(--primary-color); margin-bottom: 2rem; text-align: center;">
                üåê Interactive Network Map
            </h3>
            <div class="topology-container" id="topologyContainer">
                <!-- Network nodes will be dynamically added here -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <button class="tool-button" style="width: auto; padding: 1rem 2rem;" onclick="scanNetworkTopology()">
                    üîÑ Refresh Network Map
                </button>
            </div>
        </div>
    </section>

    <!-- Real-time Network Monitoring -->
    <section class="section fade-in">
        <h2>Live Network Monitoring</h2>
        <div class="monitoring-dashboard">
            <h3 style="color: var(--primary-color); margin-bottom: 3rem; text-align: center;">
                üìä Real-time Performance Monitoring
            </h3>
            <div class="monitoring-grid">
                <div class="monitor-widget">
                    <h4 style="color: var(--tool-color);">Traffic Volume</h4>
                    <div class="monitor-chart">
                        <div class="chart-line" style="animation-delay: 0s;"></div>
                    </div>
                    <div style="color: var(--text-dim);">Current: <span id="currentTraffic">847 Mbps</span></div>
                </div>

                <div class="monitor-widget">
                    <h4 style="color: var(--tool-color);">Latency Trends</h4>
                    <div class="monitor-chart">
                        <div class="chart-line" style="animation-delay: 0.5s;"></div>
                    </div>
                    <div style="color: var(--text-dim);">Average: <span id="avgLatency">12.5 ms</span></div>
                </div>

                <div class="monitor-widget">
                    <h4 style="color: var(--tool-color);">Error Rates</h4>
                    <div class="monitor-chart">
                        <div class="chart-line" style="animation-delay: 1s;"></div>
                    </div>
                    <div style="color: var(--text-dim);">Current: <span id="errorRate">0.02%</span></div>
                </div>

                <div class="monitor-widget">
                    <h4 style="color: var(--tool-color);">Connection Count</h4>
                    <div class="monitor-chart">
                        <div class="chart-line" style="animation-delay: 1.5s;"></div>
                    </div>
                    <div style="color: var(--text-dim);">Active: <span id="activeConnections">1,247</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Diagnostic Wizard -->
    <section class="section fade-in">
        <h2>AI-Powered Diagnostic Wizard</h2>
        <div class="diagnostic-wizard">
            <div class="wizard-content">
                <h3 style="color: var(--primary-color); margin-bottom: 2rem;">
                    üßô‚Äç‚ôÇÔ∏è Intelligent Network Problem Diagnosis
                </h3>

                <!-- Step 1: Problem Category -->
                <div class="wizard-step active" id="step1">
                    <div class="wizard-question">What type of network issue are you experiencing?</div>
                    <div class="wizard-options">
                        <div class="wizard-option" onclick="nextStep(2, 'connectivity')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üö´</div>
                            <strong>No Connectivity</strong><br>
                            <small>Cannot connect to network or internet</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(2, 'slow')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üêå</div>
                            <strong>Slow Performance</strong><br>
                            <small>Network is slow or intermittent</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(2, 'intermittent')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">‚ö°</div>
                            <strong>Intermittent Issues</strong><br>
                            <small>Connection drops or fluctuates</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(2, 'application')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üíª</div>
                            <strong>Application Problems</strong><br>
                            <small>Specific service or app not working</small>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Scope Assessment -->
                <div class="wizard-step" id="step2">
                    <div class="wizard-question">How widespread is this problem?</div>
                    <div class="wizard-options">
                        <div class="wizard-option" onclick="nextStep(3, 'single-device')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üì±</div>
                            <strong>Single Device</strong><br>
                            <small>Only affecting one computer/device</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(3, 'multiple-devices')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üíª</div>
                            <strong>Multiple Devices</strong><br>
                            <small>Affecting several devices</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(3, 'network-wide')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üåê</div>
                            <strong>Entire Network</strong><br>
                            <small>All devices experiencing issues</small>
                        </div>
                        <div class="wizard-option" onclick="nextStep(3, 'external')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">‚òÅÔ∏è</div>
                            <strong>External Services</strong><br>
                            <small>Specific websites or cloud services</small>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Environmental Factors -->
                <div class="wizard-step" id="step3">
                    <div class="wizard-question">When did this problem start?</div>
                    <div class="wizard-options">
                        <div class="wizard-option" onclick="showAdvancedDiagnosis('sudden')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">‚ö°</div>
                            <strong>Suddenly</strong><br>
                            <small>Just started happening</small>
                        </div>
                        <div class="wizard-option" onclick="showAdvancedDiagnosis('gradual')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üìà</div>
                            <strong>Gradually</strong><br>
                            <small>Getting worse over time</small>
                        </div>
                        <div class="wizard-option" onclick="showAdvancedDiagnosis('intermittent')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üîÑ</div>
                            <strong>Intermittently</strong><br>
                            <small>Comes and goes</small>
                        </div>
                        <div class="wizard-option" onclick="showAdvancedDiagnosis('after-change')">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üîß</div>
                            <strong>After Changes</strong><br>
                            <small>Started after configuration changes</small>
                        </div>
                    </div>
                </div>

                <!-- Results -->
                <div class="wizard-step" id="results">
                    <div class="wizard-result" id="diagnosisResult">
                        <!-- Dynamic diagnosis will be inserted here -->
                    </div>
                    <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="tool-button" onclick="runAutoDiagnostics()" style="width: auto; padding: 1rem 2rem;">
                            üî¨ Run Auto-Diagnostics
                        </button>
                        <button class="tool-button" onclick="restartWizard()" style="width: auto; padding: 1rem 2rem;">
                            üîÑ Start Over
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div style="max-width: 1400px; margin: 0 auto; padding: 0 2rem;">
            <h3 style="color: var(--tool-color); margin-bottom: 1rem; font-size: 2.5rem; font-weight: 800;">tcp-ip.ch Troubleshooting</h3>
            <p style="color: var(--text-light); margin-bottom: 3rem; font-size: 1.2rem; max-width: 800px; margin-left: auto; margin-right: auto;">
                Professional network troubleshooting with systematic methodologies, advanced diagnostic tools,
                and intelligent problem resolution for network professionals and enthusiasts.
            </p>
            <div style="background: rgba(65, 105, 225, 0.1); padding: 3rem; border-radius: 20px; margin: 3rem 0; border: 1px solid var(--border-glow);">
                <p style="color: var(--text-light); font-size: 1.1rem; font-style: italic; margin-bottom: 1rem;">
                    "A problem well-defined is half solved. The key to effective troubleshooting is systematic analysis, not random fixes."
                </p>
                <p style="color: var(--tool-color); font-weight: bold;">
                    ‚Äî Professional Network Troubleshooting
                </p>
            </div>
            <p style="color: var(--text-muted); font-size: 0.9rem;">
                Debug like a pro ‚Ä¢ <a href="/" style="color: var(--accent-color);">Return to Hub</a>
            </p>
        </div>
    </footer>

    <script>
        let wizardState = {
            problemType: '',
            scope: '',
            timing: '',
            environmentalFactors: []
        };

        // Enhanced Network Signal Stream
        function createNetworkSignals() {
            const container = document.getElementById('signalStream');
            const signals = [
                'PING OK', 'DNS RESOLVE', 'TCP SYN', 'HTTP 200', 'ICMP REPLY',
                'ARP REPLY', 'DHCP ACK', 'BGP UPDATE', 'OSPF LSA', 'SNMP GET',
                'STP BPDU', 'VLAN TAG', 'QoS MARK', 'IPSec ESP', 'GRE TUNNEL'
            ];

            function createSignal() {
                if (Math.random() > 0.7) {
                    const signal = document.createElement('div');
                    signal.className = 'network-signal';
                    signal.textContent = signals[Math.floor(Math.random() * signals.length)];
                    signal.style.left = Math.random() * 100 + '%';
                    signal.style.animationDelay = Math.random() * 3 + 's';
                    signal.style.animationDuration = (15 + Math.random() * 8) + 's';
                    container.appendChild(signal);

                    setTimeout(() => {
                        if (signal.parentNode) {
                            signal.parentNode.removeChild(signal);
                        }
                    }, 18000);
                }
            }

            setInterval(createSignal, 1200);
        }

        // Enhanced Network Status Updates
        function updateNetworkStatus() {
            const statusUpdates = [
                { id: 'latencyStatus', values: ['8ms', '12ms', '15ms', '9ms'], class: 'status-good' },
                { id: 'signalStrength', values: ['-42dBm', '-45dBm', '-48dBm'], class: 'status-warning' },
                { id: 'bandwidthUsage', values: ['65%', '67%', '72%', '68%'], class: 'status-good' },
                { id: 'packetLoss', values: ['0.01%', '0.02%', '0.03%'], class: 'status-good' },
                { id: 'deviceCount', values: ['24', '25', '23', '26'], class: 'status-good' }
            ];

            statusUpdates.forEach(status => {
                const element = document.getElementById(status.id);
                if (element) {
                    const newValue = status.values[Math.floor(Math.random() * status.values.length)];
                    if (element.textContent !== newValue) {
                        element.style.transform = 'scale(1.1)';
                        element.style.textShadow = '0 0 20px currentColor';
                        element.textContent = newValue;

                        setTimeout(() => {
                            element.style.transform = 'scale(1)';
                            element.style.textShadow = '0 0 15px currentColor';
                        }, 300);
                    }
                }
            });
        }

        // Advanced Ping Test
        function runAdvancedPing() {
            const target = document.getElementById('pingTarget').value || '8.8.8.8';
            const count = document.getElementById('pingCount').value || '4';
            const resultDiv = document.getElementById('pingResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Running advanced ping test...</div>';

            setTimeout(() => {
                const avgLatency = Math.random() * 20 + 5;
                const jitter = Math.random() * 5 + 1;
                const packetLoss = Math.random() * 2;

                let result = `ADVANCED PING ${target} - ${count} packets\n\n`;

                for (let i = 0; i < count; i++) {
                    const latency = avgLatency + (Math.random() - 0.5) * jitter;
                    result += `64 bytes from ${target}: icmp_seq=${i} ttl=64 time=${latency.toFixed(1)}ms\n`;
                }

                result += `\n--- ${target} ping statistics ---\n`;
                result += `${count} packets transmitted, ${count - Math.floor(packetLoss)} received, ${packetLoss.toFixed(1)}% packet loss\n`;
                result += `round-trip min/avg/max/stddev = ${(avgLatency - jitter).toFixed(1)}/${avgLatency.toFixed(1)}/${(avgLatency + jitter).toFixed(1)}/${jitter.toFixed(1)} ms\n\n`;

                result += `<span style="color: var(--accent-color);">ANALYSIS:</span>\n`;
                result += `‚Ä¢ Latency: ${avgLatency < 20 ? 'Excellent' : avgLatency < 50 ? 'Good' : 'Poor'}\n`;
                result += `‚Ä¢ Jitter: ${jitter < 5 ? 'Low' : 'High'} (${jitter.toFixed(1)}ms variation)\n`;
                result += `‚Ä¢ Packet Loss: ${packetLoss < 1 ? 'Excellent' : packetLoss < 3 ? 'Acceptable' : 'Poor'}\n`;

                resultDiv.innerHTML = result;
            }, 2000);
        }

        // Smart Traceroute
        function runSmartTraceroute() {
            const target = document.getElementById('traceTarget').value || 'google.com';
            const resultDiv = document.getElementById('traceResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Tracing network path...</div>';

            setTimeout(() => {
                const hops = [
                    '192.168.1.1 (Local Gateway)',
                    '10.0.0.1 (ISP Router)',
                    '172.16.1.1 (Regional Hub)',
                    '203.0.113.1 (Tier 1 Backbone)',
                    '198.51.100.1 (CDN Edge)',
                    `${target} (Destination)`
                ];

                let result = `SMART TRACEROUTE to ${target}\n\n`;
                let cumulativeLatency = 0;

                hops.forEach((hop, index) => {
                    const hopLatency = Math.random() * 15 + 5;
                    cumulativeLatency += hopLatency;
                    const location = index === 0 ? 'Local' : index < 3 ? 'Regional' : 'Global';

                    result += `${index + 1:2}  ${hop}\n`;
                    result += `     ${cumulativeLatency.toFixed(1)}ms | ${location} | Status: OK\n\n`;
                });

                result += `<span style="color: var(--accent-color);">PATH ANALYSIS:</span>\n`;
                result += `‚Ä¢ Total hops: ${hops.length}\n`;
                result += `‚Ä¢ End-to-end latency: ${cumulativeLatency.toFixed(1)}ms\n`;
                result += `‚Ä¢ Path quality: ${cumulativeLatency < 100 ? 'Excellent' : 'Good'}\n`;
                result += `‚Ä¢ No routing loops detected\n`;

                resultDiv.innerHTML = result;
            }, 3000);
        }

        // DNS Analysis
        function runDNSAnalysis() {
            const target = document.getElementById('dnsTarget').value || 'example.com';
            const type = document.getElementById('dnsType').value || 'A';
            const resultDiv = document.getElementById('dnsResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Analyzing DNS records...</div>';

            setTimeout(() => {
                let result = `DNS ANALYSIS for ${target} (${type} record)\n\n`;

                switch(type) {
                    case 'A':
                        result += `${target}.    300    IN    A    93.184.216.34\n`;
                        result += `${target}.    300    IN    A    93.184.216.35\n`;
                        break;
                    case 'AAAA':
                        result += `${target}.    300    IN    AAAA    2606:2800:220:1:248:1893:25c8:1946\n`;
                        break;
                    case 'MX':
                        result += `${target}.    300    IN    MX    10 mail.${target}.\n`;
                        result += `${target}.    300    IN    MX    20 mail2.${target}.\n`;
                        break;
                    case 'NS':
                        result += `${target}.    300    IN    NS    ns1.${target}.\n`;
                        result += `${target}.    300    IN    NS    ns2.${target}.\n`;
                        break;
                    case 'TXT':
                        result += `${target}.    300    IN    TXT    "v=spf1 include:_spf.google.com ~all"\n`;
                        break;
                }

                result += `\nQuery time: ${Math.floor(Math.random() * 50 + 10)} msec\n`;
                result += `Server: 8.8.8.8#53(8.8.8.8)\n`;
                result += `Status: NOERROR\n\n`;

                result += `<span style="color: var(--accent-color);">DNS HEALTH:</span>\n`;
                result += `‚Ä¢ Resolution time: Fast\n`;
                result += `‚Ä¢ Records found: Yes\n`;
                result += `‚Ä¢ DNS server responsive: Yes\n`;
                result += `‚Ä¢ TTL appropriate: Yes\n`;

                resultDiv.innerHTML = result;
            }, 1500);
        }

        // Port Scanner
        function runPortScan() {
            const target = document.getElementById('scanTarget').value || '192.168.1.1';
            const range = document.getElementById('portRange').value || '1-100';
            const resultDiv = document.getElementById('scanResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Scanning ports...</div>';

            setTimeout(() => {
                const commonPorts = [22, 23, 25, 53, 80, 110, 443, 993, 995];
                const openPorts = commonPorts.filter(() => Math.random() > 0.7);

                let result = `PORT SCAN RESULTS for ${target}\n`;
                result += `Range: ${range}\n\n`;

                if (openPorts.length > 0) {
                    result += `OPEN PORTS:\n`;
                    openPorts.forEach(port => {
                        const service = {
                            22: 'SSH', 23: 'Telnet', 25: 'SMTP', 53: 'DNS',
                            80: 'HTTP', 110: 'POP3', 443: 'HTTPS', 993: 'IMAPS', 995: 'POP3S'
                        }[port] || 'Unknown';

                        result += `${port}/tcp    open    ${service}\n`;
                    });
                } else {
                    result += `No open ports found in range ${range}\n`;
                }

                result += `\n<span style="color: var(--accent-color);">SECURITY ANALYSIS:</span>\n`;
                result += `‚Ä¢ Open ports: ${openPorts.length}\n`;
                result += `‚Ä¢ Critical services: ${openPorts.includes(22) || openPorts.includes(23) ? 'Detected' : 'None'}\n`;
                result += `‚Ä¢ Recommendation: ${openPorts.length > 5 ? 'Review open services' : 'Good security posture'}\n`;

                resultDiv.innerHTML = result;
            }, 2500);
        }

        // Bandwidth Test
        function runBandwidthTest() {
            const server = document.getElementById('testServer').value || 'auto';
            const resultDiv = document.getElementById('bandwidthResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Testing bandwidth...</div>';

            setTimeout(() => {
                const download = Math.random() * 800 + 100;
                const upload = Math.random() * 400 + 50;
                const latency = Math.random() * 30 + 10;

                let result = `BANDWIDTH TEST RESULTS\n`;
                result += `Server: ${server === 'auto' ? 'Auto-selected (US East)' : server}\n\n`;
                result += `Download Speed: ${download.toFixed(1)} Mbps\n`;
                result += `Upload Speed: ${upload.toFixed(1)} Mbps\n`;
                result += `Latency: ${latency.toFixed(1)} ms\n`;
                result += `Jitter: ${(Math.random() * 5 + 1).toFixed(1)} ms\n\n`;

                const quality = download > 100 && upload > 25 && latency < 50 ? 'Excellent' :
                               download > 50 && upload > 10 && latency < 100 ? 'Good' : 'Poor';

                result += `<span style="color: var(--accent-color);">PERFORMANCE GRADE:</span>\n`;
                result += `Overall: ${quality}\n`;
                result += `Download: ${download > 100 ? 'Excellent' : download > 50 ? 'Good' : 'Needs Improvement'}\n`;
                result += `Upload: ${upload > 25 ? 'Excellent' : upload > 10 ? 'Good' : 'Needs Improvement'}\n`;
                result += `Latency: ${latency < 20 ? 'Excellent' : latency < 50 ? 'Good' : 'Poor'}\n`;

                resultDiv.innerHTML = result;
            }, 4000);
        }

        // Network Health Check
        function runHealthCheck() {
            const resultDiv = document.getElementById('healthResult');

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="color: var(--warning-color);">Running comprehensive health check...</div>';

            setTimeout(() => {
                let result = `NETWORK HEALTH REPORT\n`;
                result += `Generated: ${new Date().toLocaleString()}\n\n`;

                const checks = [
                    { name: 'Internet Connectivity', status: 'PASS', details: 'All external connections working' },
                    { name: 'DNS Resolution', status: 'PASS', details: 'Primary and secondary DNS responsive' },
                    { name: 'Gateway Reachability', status: 'PASS', details: 'Default gateway responding normally' },
                    { name: 'Internal Network', status: 'PASS', details: 'All internal devices reachable' },
                    { name: 'Bandwidth Utilization', status: 'WARNING', details: 'Usage at 67% - monitor closely' },
                    { name: 'Security Status', status: 'PASS', details: 'Firewall active, no suspicious activity' }
                ];

                checks.forEach(check => {
                    const statusColor = check.status === 'PASS' ? 'var(--success-color)' :
                                       check.status === 'WARNING' ? 'var(--warning-color)' : 'var(--danger-color)';
                    result += `<span style="color: ${statusColor};">[${check.status}]</span> ${check.name}\n`;
                    result += `        ${check.details}\n\n`;
                });

                const passCount = checks.filter(c => c.status === 'PASS').length;
                const warningCount = checks.filter(c => c.status === 'WARNING').length;

                result += `<span style="color: var(--accent-color);">SUMMARY:</span>\n`;
                result += `‚Ä¢ Checks passed: ${passCount}/${checks.length}\n`;
                result += `‚Ä¢ Warnings: ${warningCount}\n`;
                result += `‚Ä¢ Overall health: ${warningCount === 0 ? 'Excellent' : 'Good with minor issues'}\n`;
                result += `‚Ä¢ Recommendation: ${warningCount > 0 ? 'Address warnings soon' : 'No action needed'}\n`;

                resultDiv.innerHTML = result;
            }, 3000);
        }

        // Network Topology Scanner
        function scanNetworkTopology() {
            const container = document.getElementById('topologyContainer');
            container.innerHTML = '<div style="text-align: center; padding: 3rem; color: var(--warning-color);">Scanning network topology...</div>';

            setTimeout(() => {
                container.innerHTML = '';

                // Create network nodes
                const nodes = [
                    { id: 'internet', label: 'üåê', x: 50, y: 10, title: 'Internet Gateway' },
                    { id: 'router', label: 'üîÄ', x: 50, y: 30, title: 'Main Router' },
                    { id: 'switch', label: 'üîó', x: 30, y: 50, title: 'Network Switch' },
                    { id: 'ap', label: 'üì°', x: 70, y: 50, title: 'Wireless AP' },
                    { id: 'server', label: 'üñ•Ô∏è', x: 20, y: 70, title: 'File Server' },
                    { id: 'pc1', label: 'üíª', x: 40, y: 70, title: 'Workstation 1' },
                    { id: 'phone', label: 'üì±', x: 60, y: 70, title: 'Mobile Device' },
                    { id: 'printer', label: 'üñ®Ô∏è', x: 80, y: 70, title: 'Network Printer' }
                ];

                const links = [
                    { from: 'internet', to: 'router' },
                    { from: 'router', to: 'switch' },
                    { from: 'router', to: 'ap' },
                    { from: 'switch', to: 'server' },
                    { from: 'switch', to: 'pc1' },
                    { from: 'ap', to: 'phone' },
                    { from: 'switch', to: 'printer' }
                ];

                // Create links first (so they appear behind nodes)
                links.forEach(link => {
                    const fromNode = nodes.find(n => n.id === link.from);
                    const toNode = nodes.find(n => n.id === link.to);

                    const linkEl = document.createElement('div');
                    linkEl.className = 'network-link';

                    const deltaX = toNode.x - fromNode.x;
                    const deltaY = toNode.y - fromNode.y;
                    const length = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;

                    linkEl.style.width = `${length * 4}px`;
                    linkEl.style.left = `${fromNode.x}%`;
                    linkEl.style.top = `${fromNode.y}%`;
                    linkEl.style.transform = `rotate(${angle}deg)`;
                    linkEl.style.transformOrigin = '0 50%';

                    container.appendChild(linkEl);
                });

                // Create nodes
                nodes.forEach(node => {
                    const nodeEl = document.createElement('div');
                    nodeEl.className = 'network-node';
                    nodeEl.textContent = node.label;
                    nodeEl.title = node.title;
                    nodeEl.style.left = `${node.x}%`;
                    nodeEl.style.top = `${node.y}%`;
                    nodeEl.style.transform = 'translate(-50%, -50%)';

                    nodeEl.onclick = () => {
                        alert(`Device: ${node.title}\nStatus: Online\nIP: 192.168.1.${Math.floor(Math.random() * 254) + 1}`);
                    };

                    container.appendChild(nodeEl);
                });
            }, 2000);
        }

        // Wizard Navigation
        function nextStep(stepNumber, choice) {
            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.remove('active');
            });

            if (stepNumber === 2) wizardState.problemType = choice;
            if (stepNumber === 3) wizardState.scope = choice;

            document.getElementById(`step${stepNumber}`).classList.add('active');
        }

        function showAdvancedDiagnosis(timing) {
            wizardState.timing = timing;

            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.remove('active');
            });

            const diagnosis = generateAdvancedDiagnosis();
            document.getElementById('diagnosisResult').innerHTML = diagnosis;
            document.getElementById('results').classList.add('active');
        }

        function generateAdvancedDiagnosis() {
            const { problemType, scope, timing } = wizardState;

            let diagnosis = `<h4 style="color: var(--primary-color); margin-bottom: 1rem;">üéØ Advanced Network Diagnosis</h4>`;

            // Detailed analysis based on inputs
            if (scope === 'network-wide' && timing === 'sudden') {
                diagnosis += `
                    <div class="diagnosis-section">
                        <h5 style="color: var(--danger-color);">üö® Critical Infrastructure Issue Detected</h5>
                        <p><strong>Likely Cause:</strong> Core network infrastructure failure or ISP outage</p>
                        <p><strong>Priority:</strong> P1 - Critical (affects all users)</p>
                        <p><strong>Estimated Resolution:</strong> 15-60 minutes</p>
                    </div>
                    <div class="diagnosis-section">
                        <h5 style="color: var(--warning-color);">üîß Immediate Actions Required</h5>
                        <ol style="margin-left: 1.5rem;">
                            <li>Check main router/switch status and power</li>
                            <li>Verify ISP connection and contact provider if needed</li>
                            <li>Check for physical damage to main network links</li>
                            <li>Review recent configuration changes</li>
                            <li>Implement backup connectivity if available</li>
                        </ol>
                    </div>`;
            } else if (scope === 'single-device' && problemType === 'connectivity') {
                diagnosis += `
                    <div class="diagnosis-section">
                        <h5 style="color: var(--warning-color);">üñ•Ô∏è Individual Device Connectivity Issue</h5>
                        <p><strong>Likely Cause:</strong> Local device configuration or hardware problem</p>
                        <p><strong>Priority:</strong> P3 - Medium (single user impact)</p>
                        <p><strong>Estimated Resolution:</strong> 5-30 minutes</p>
                    </div>
                    <div class="diagnosis-section">
                        <h5 style="color: var(--accent-color);">üìã Troubleshooting Steps</h5>
                        <ol style="margin-left: 1.5rem;">
                            <li>Check physical connections (cable, WiFi)</li>
                            <li>Restart network adapter/WiFi connection</li>
                            <li>Verify IP configuration (DHCP/static)</li>
                            <li>Test with different network cable or device</li>
                            <li>Update network drivers if needed</li>
                        </ol>
                    </div>`;
            } else {
                diagnosis += `
                    <div class="diagnosis-section">
                        <h5 style="color: var(--tool-color);">üîç Multi-Factor Network Issue</h5>
                        <p><strong>Likely Cause:</strong> Complex network performance or configuration issue</p>
                        <p><strong>Priority:</strong> P2 - High (multiple users affected)</p>
                        <p><strong>Estimated Resolution:</strong> 30-120 minutes</p>
                    </div>
                    <div class="diagnosis-section">
                        <h5 style="color: var(--accent-color);">üî¨ Comprehensive Investigation</h5>
                        <ol style="margin-left: 1.5rem;">
                            <li>Monitor network utilization and performance metrics</li>
                            <li>Check switch and router logs for errors</li>
                            <li>Verify QoS configurations and bandwidth allocation</li>
                            <li>Test network segmentation and VLAN configuration</li>
                            <li>Analyze traffic patterns for anomalies</li>
                            <li>Review recent network changes and updates</li>
                        </ol>
                    </div>`;
            }

            // Add confidence score and next steps
            const confidence = Math.floor(Math.random() * 20 + 80);
            diagnosis += `
                <div class="diagnosis-section">
                    <h5 style="color: var(--primary-color);">üìä Diagnostic Confidence</h5>
                    <p>Confidence Score: <strong>${confidence}%</strong></p>
                    <p>Based on: Problem type, scope analysis, timing patterns, and network topology</p>
                </div>`;

            return diagnosis;
        }

        function runAutoDiagnostics() {
            alert('üî¨ Running automated diagnostics...\n\nThis would typically:\n‚Ä¢ Perform comprehensive network tests\n‚Ä¢ Analyze system logs\n‚Ä¢ Check configuration integrity\n‚Ä¢ Generate detailed report\n\n(This is a demonstration - in a real environment, this would execute actual diagnostic scripts)');
        }

        function restartWizard() {
            wizardState = { problemType: '', scope: '', timing: '', environmentalFactors: [] };

            document.querySelectorAll('.wizard-step').forEach(step => {
                step.classList.remove('active');
            });

            document.getElementById('step1').classList.add('active');
        }

        // Enhanced Scroll Animations
        function handleScrollAnimations() {
            const elements = document.querySelectorAll('.fade-in, .step-card');

            elements.forEach((element, index) => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < window.innerHeight - elementVisible) {
                    setTimeout(() => {
                        element.classList.add('animate');
                    }, index * 150);
                }
            });
        }

        // Initialize Everything
        document.addEventListener('DOMContentLoaded', function() {
            // Create visual effects
            createNetworkSignals();
            scanNetworkTopology();

            // Setup interactions
            handleScrollAnimations();
            updateNetworkStatus();

            // Update data periodically
            setInterval(updateNetworkStatus, 5000);

            // Event listeners
            window.addEventListener('scroll', handleScrollAnimations, { passive: true });

            console.log('üîß Enhanced Network Troubleshooting platform loaded!');
        });

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', function() {
                setTimeout(function() {
                    const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
                    console.log(`üöÄ Troubleshooting page loaded in ${loadTime}ms`);
                }, 0);
            });
        }
    </script>
</body>
</html>