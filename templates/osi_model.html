<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSI Reference Model - tcp-ip.ch</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary-color: #00ffff;
            --secondary-color: #ff00ff;
            --accent-color: #00ff88;
            --warning-color: #ffaa00;
            --danger-color: #ff4444;
            --success-color: #00ff44;
            --layer7-color: #ff6b6b;
            --layer6-color: #4ecdc4;
            --layer5-color: #45b7d1;
            --layer4-color: #96ceb4;
            --layer3-color: #ffeaa7;
            --layer2-color: #dda0dd;
            --layer1-color: #98d8c8;
            --bg-dark: #0a0a0f;
            --bg-darker: #050508;
            --bg-card: #111118;
            --bg-section: #161620;
            --text-light: #e0e0ff;
            --text-dim: #a0a0c0;
            --border-glow: rgba(0, 255, 255, 0.3);
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Enhanced OSI Layer Visualization */
        .osi-matrix {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -3;
            opacity: 0.1;
            background-image:
                linear-gradient(45deg, var(--layer7-color) 1px, transparent 1px),
                linear-gradient(-45deg, var(--layer1-color) 1px, transparent 1px),
                radial-gradient(circle at 25% 75%, var(--layer4-color) 2px, transparent 2px);
            background-size: 50px 50px, 50px 50px, 100px 100px;
            animation: osiFlow 15s ease-in-out infinite alternate;
        }

        @keyframes osiFlow {
            0% { opacity: 0.1; transform: translateY(0); }
            50% { opacity: 0.2; }
            100% { opacity: 0.15; transform: translateY(-10px); }
        }

        /* Data Packet Animation */
        .packet-flow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            overflow: hidden;
        }

        .data-packet {
            position: absolute;
            width: 80px;
            height: 20px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 10px;
            animation: packetTravel 12s infinite linear;
            opacity: 0.6;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            color: var(--bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        @keyframes packetTravel {
            0% {
                transform: translateX(-100px) translateY(100vh);
                opacity: 0;
            }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% {
                transform: translateX(calc(100vw + 100px)) translateY(-50px);
                opacity: 0;
            }
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(25px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 2px solid var(--border-glow);
        }

        nav {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff0080, #00ffff, #8000ff, #00ff80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-links a:hover {
            color: var(--layer7-color);
            background: rgba(255, 107, 107, 0.1);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            background: radial-gradient(circle at 50% 50%, rgba(255, 107, 107, 0.1) 0%, transparent 70%);
        }

        .hero-title {
            font-size: clamp(3rem, 7vw, 5rem);
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--layer7-color), var(--layer1-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 900;
            letter-spacing: -3px;
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 3vw, 1.8rem);
            color: var(--accent-color);
            margin-bottom: 2rem;
            font-weight: 600;
        }

        /* Enhanced OSI Stack */
        .osi-stack {
            max-width: 1200px;
            margin: 6rem auto;
            background: rgba(22, 22, 32, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 4rem;
            border: 2px solid var(--border-glow);
            position: relative;
        }

        .osi-layer {
            background: rgba(17, 17, 24, 0.9);
            margin: 1.5rem 0;
            padding: 2.5rem;
            border-radius: 20px;
            border: 2px solid;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .osi-layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .osi-layer:hover::before {
            left: 100%;
        }

        .osi-layer:hover {
            transform: translateX(20px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .layer-7 { border-color: var(--layer7-color); }
        .layer-6 { border-color: var(--layer6-color); }
        .layer-5 { border-color: var(--layer5-color); }
        .layer-4 { border-color: var(--layer4-color); }
        .layer-3 { border-color: var(--layer3-color); }
        .layer-2 { border-color: var(--layer2-color); }
        .layer-1 { border-color: var(--layer1-color); }

        .layer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .layer-number {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--bg-dark);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .layer-7 .layer-number { background: linear-gradient(45deg, var(--layer7-color), #ff8a8a); }
        .layer-6 .layer-number { background: linear-gradient(45deg, var(--layer6-color), #6dd8d1); }
        .layer-5 .layer-number { background: linear-gradient(45deg, var(--layer5-color), #67c3f3); }
        .layer-4 .layer-number { background: linear-gradient(45deg, var(--layer4-color), #b8e6d1); }
        .layer-3 .layer-number { background: linear-gradient(45deg, var(--layer3-color), #fff3c4); }
        .layer-2 .layer-number { background: linear-gradient(45deg, var(--layer2-color), #e9c4e9); }
        .layer-1 .layer-number { background: linear-gradient(45deg, var(--layer1-color), #b8e8d8); }

        .layer-info {
            flex: 1;
            margin: 0 2rem;
        }

        .layer-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .layer-7 .layer-name { color: var(--layer7-color); }
        .layer-6 .layer-name { color: var(--layer6-color); }
        .layer-5 .layer-name { color: var(--layer5-color); }
        .layer-4 .layer-name { color: var(--layer4-color); }
        .layer-3 .layer-name { color: var(--layer3-color); }
        .layer-2 .layer-name { color: var(--layer2-color); }
        .layer-1 .layer-name { color: var(--layer1-color); }

        .layer-description {
            color: var(--text-dim);
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        .layer-icon {
            font-size: 4rem;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .layer-details {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 1;
            display: none;
        }

        .layer-details.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .protocols-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }

        .protocol-tag {
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--bg-dark);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .protocol-tag:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .layer-7 .protocol-tag { background: var(--layer7-color); }
        .layer-6 .protocol-tag { background: var(--layer6-color); }
        .layer-5 .protocol-tag { background: var(--layer5-color); }
        .layer-4 .protocol-tag { background: var(--layer4-color); }
        .layer-3 .protocol-tag { background: var(--layer3-color); }
        .layer-2 .protocol-tag { background: var(--layer2-color); }
        .layer-1 .protocol-tag { background: var(--layer1-color); }

        /* Interactive Encapsulation Demo */
        .encapsulation-demo {
            background: rgba(22, 22, 32, 0.9);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
        }

        .encap-visual {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin: 3rem 0;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        .encap-layer {
            display: flex;
            align-items: center;
            padding: 1.5rem;
            border-radius: 15px;
            border: 2px solid;
            position: relative;
            transition: all 0.3s ease;
        }

        .encap-layer:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .encap-layer.layer-7 {
            border-color: var(--layer7-color);
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
        }
        .encap-layer.layer-4 {
            border-color: var(--layer4-color);
            background: linear-gradient(135deg, rgba(150, 206, 180, 0.1), rgba(150, 206, 180, 0.05));
            margin-left: 2rem;
        }
        .encap-layer.layer-3 {
            border-color: var(--layer3-color);
            background: linear-gradient(135deg, rgba(255, 234, 167, 0.1), rgba(255, 234, 167, 0.05));
            margin-left: 4rem;
        }
        .encap-layer.layer-2 {
            border-color: var(--layer2-color);
            background: linear-gradient(135deg, rgba(221, 160, 221, 0.1), rgba(221, 160, 221, 0.05));
            margin-left: 6rem;
        }

        .encap-header {
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            margin-right: 1rem;
            font-weight: bold;
            font-size: 1rem;
            min-width: 80px;
            text-align: center;
        }

        .layer-7 .encap-header { background: var(--layer7-color); color: var(--bg-dark); }
        .layer-4 .encap-header { background: var(--layer4-color); color: var(--bg-dark); }
        .layer-3 .encap-header { background: var(--layer3-color); color: var(--bg-dark); }
        .layer-2 .encap-header { background: var(--layer2-color); color: var(--bg-dark); }

        /* Troubleshooting Guide */
        .troubleshooting-guide {
            background: rgba(17, 17, 24, 0.9);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
        }

        .troubleshoot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin: 3rem 0;
        }

        .troubleshoot-item {
            text-align: center;
            padding: 2.5rem;
            border-radius: 20px;
            border: 2px solid;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .troubleshoot-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .troubleshoot-item:hover::before {
            opacity: 1;
        }

        .troubleshoot-item:hover {
            transform: translateY(-15px) scale(1.05);
        }

        .troubleshoot-item.layer1 {
            border-color: var(--layer1-color);
        }
        .troubleshoot-item.layer1::before {
            background: linear-gradient(135deg, rgba(152, 216, 200, 0.1), transparent);
        }

        .troubleshoot-item.layer2 {
            border-color: var(--layer2-color);
        }
        .troubleshoot-item.layer2::before {
            background: linear-gradient(135deg, rgba(221, 160, 221, 0.1), transparent);
        }

        .troubleshoot-item.layer3 {
            border-color: var(--layer3-color);
        }
        .troubleshoot-item.layer3::before {
            background: linear-gradient(135deg, rgba(255, 234, 167, 0.1), transparent);
        }

        .troubleshoot-item.layer4 {
            border-color: var(--layer4-color);
        }
        .troubleshoot-item.layer4::before {
            background: linear-gradient(135deg, rgba(150, 206, 180, 0.1), transparent);
        }

        .troubleshoot-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .troubleshoot-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .troubleshoot-item.layer1 .troubleshoot-title { color: var(--layer1-color); }
        .troubleshoot-item.layer2 .troubleshoot-title { color: var(--layer2-color); }
        .troubleshoot-item.layer3 .troubleshoot-title { color: var(--layer3-color); }
        .troubleshoot-item.layer4 .troubleshoot-title { color: var(--layer4-color); }

        .troubleshoot-steps {
            text-align: left;
            position: relative;
            z-index: 1;
        }

        .troubleshoot-steps li {
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            position: relative;
            color: var(--text-light);
        }

        .troubleshoot-steps li::before {
            content: '▶';
            position: absolute;
            left: 0;
            color: var(--accent-color);
        }

        /* OSI Quiz Section */
        .osi-quiz {
            background: rgba(22, 22, 32, 0.9);
            border-radius: 25px;
            padding: 4rem;
            margin: 6rem 0;
            border: 1px solid var(--border-glow);
            text-align: center;
        }

        .quiz-question {
            font-size: 1.3rem;
            color: var(--primary-color);
            margin-bottom: 2rem;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .quiz-option {
            background: rgba(17, 17, 24, 0.9);
            border: 2px solid var(--border-glow);
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-light);
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            background: rgba(0, 255, 255, 0.1);
            transform: translateY(-5px);
        }

        .quiz-option.correct {
            border-color: var(--success-color);
            background: rgba(0, 255, 68, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--danger-color);
            background: rgba(255, 68, 68, 0.1);
        }

        /* Section Styling */
        .section {
            padding: 6rem 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .section h2 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 3rem;
            color: var(--layer7-color);
            text-align: center;
            font-weight: 800;
            position: relative;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: linear-gradient(45deg, var(--layer7-color), var(--layer1-color));
            border-radius: 2px;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
            padding: 4rem 0;
            text-align: center;
            border-top: 2px solid var(--border-glow);
            margin-top: 6rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .layer-header {
                flex-direction: column;
                text-align: center;
            }
            .layer-number {
                margin-bottom: 1rem;
            }
            .layer-info {
                margin: 0;
            }
            .encap-layer {
                margin-left: 0 !important;
            }
            .troubleshoot-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Enhanced Background Effects -->
    <div class="osi-matrix"></div>
    <div class="packet-flow" id="packetFlow"></div>

    <!-- Header -->
    <header>
        <nav>
            <a href="/" class="logo">tcp-ip.ch</a>
            <ul class="nav-links">
                <li><a href="/">🏠 Hub</a></li>
                <li><a href="/protocols">📡 Protocols</a></li>
                <li><a href="/security">🔒 Security</a></li>
                <li><a href="/modern-tech">🚀 Modern Tech</a></li>
                <li><a href="/tools">🛠️ Tools</a></li>
                <li><a href="/cloud">☁️ Cloud</a></li>
                <li><a href="/performance">⚡ Performance</a></li>
                <li><a href="/osi-model" style="color: var(--layer7-color);">📊 OSI Model</a></li>
                <li><a href="/troubleshooting">🔧 Troubleshooting</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div>
            <h1 class="hero-title">OSI Reference Model</h1>
            <div class="hero-subtitle">The Seven-Layer Foundation of Network Communication</div>
            <p style="font-size: 1.3rem; color: var(--text-light); max-width: 800px; margin: 0 auto;">
                Master the OSI model with interactive layers, real-time data flow visualization, and comprehensive
                troubleshooting guides for systematic network problem resolution.
            </p>
        </div>
    </section>

    <!-- Interactive OSI Stack -->
    <section class="section">
        <h2>Interactive Seven-Layer Model</h2>
        <div class="osi-stack">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h3 style="color: var(--primary-color); font-size: 2rem; margin-bottom: 1rem;">
                    🏗️ The Complete Network Communication Stack
                </h3>
                <p style="color: var(--text-dim);">Click any layer to explore its protocols, functions, and real-world applications</p>
            </div>

            <!-- Layer 7 - Application -->
            <div class="osi-layer layer-7" onclick="toggleLayerDetails(this, 7)">
                <div class="layer-header">
                    <div class="layer-number">7</div>
                    <div class="layer-info">
                        <div class="layer-name">Application Layer</div>
                        <div class="layer-description">Network services directly to end-user applications</div>
                    </div>
                    <div class="layer-icon">🖥️</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        The Application Layer provides network services directly to end-users and applications.
                        It's where users interact with the network through applications like web browsers, email clients, and file transfer programs.
                    </p>
                    <strong style="color: var(--layer7-color); font-size: 1.1rem;">Essential Protocols:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag" onclick="showProtocolInfo('HTTP', event)">HTTP/HTTPS</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('FTP', event)">FTP/SFTP</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('SMTP', event)">SMTP</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('DNS', event)">DNS</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('DHCP', event)">DHCP</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('SSH', event)">SSH</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('Telnet', event)">Telnet</span>
                        <span class="protocol-tag" onclick="showProtocolInfo('SNMP', event)">SNMP</span>
                    </div>
                </div>
            </div>

            <!-- Layer 6 - Presentation -->
            <div class="osi-layer layer-6" onclick="toggleLayerDetails(this, 6)">
                <div class="layer-header">
                    <div class="layer-number">6</div>
                    <div class="layer-info">
                        <div class="layer-name">Presentation Layer</div>
                        <div class="layer-description">Data translation, encryption, and compression</div>
                    </div>
                    <div class="layer-icon">🔒</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Handles data formatting, encryption, and compression. Ensures data from the sending application
                        can be understood by the receiving application, regardless of different data formats.
                    </p>
                    <strong style="color: var(--layer6-color); font-size: 1.1rem;">Key Technologies:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">SSL/TLS</span>
                        <span class="protocol-tag">JPEG</span>
                        <span class="protocol-tag">MPEG</span>
                        <span class="protocol-tag">GIF</span>
                        <span class="protocol-tag">ASCII</span>
                        <span class="protocol-tag">MIME</span>
                        <span class="protocol-tag">Compression</span>
                        <span class="protocol-tag">Encryption</span>
                    </div>
                </div>
            </div>

            <!-- Layer 5 - Session -->
            <div class="osi-layer layer-5" onclick="toggleLayerDetails(this, 5)">
                <div class="layer-header">
                    <div class="layer-number">5</div>
                    <div class="layer-info">
                        <div class="layer-name">Session Layer</div>
                        <div class="layer-description">Session management and control between applications</div>
                    </div>
                    <div class="layer-icon">🔗</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Establishes, manages, and terminates sessions between applications. Controls dialogues,
                        authentication, authorization, and session restoration after network interruptions.
                    </p>
                    <strong style="color: var(--layer5-color); font-size: 1.1rem;">Session Protocols:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">NetBIOS</span>
                        <span class="protocol-tag">RPC</span>
                        <span class="protocol-tag">SQL</span>
                        <span class="protocol-tag">NFS</span>
                        <span class="protocol-tag">SMB</span>
                        <span class="protocol-tag">PPTP</span>
                        <span class="protocol-tag">SOCKS</span>
                        <span class="protocol-tag">LDAP</span>
                    </div>
                </div>
            </div>

            <!-- Layer 4 - Transport -->
            <div class="osi-layer layer-4" onclick="toggleLayerDetails(this, 4)">
                <div class="layer-header">
                    <div class="layer-number">4</div>
                    <div class="layer-info">
                        <div class="layer-name">Transport Layer</div>
                        <div class="layer-description">End-to-end data delivery and error recovery</div>
                    </div>
                    <div class="layer-icon">🚚</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Ensures reliable data transmission with error checking, flow control, and segmentation.
                        TCP provides guaranteed delivery while UDP offers speed for real-time applications.
                    </p>
                    <strong style="color: var(--layer4-color); font-size: 1.1rem;">Transport Protocols:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">TCP</span>
                        <span class="protocol-tag">UDP</span>
                        <span class="protocol-tag">SCTP</span>
                        <span class="protocol-tag">DCCP</span>
                        <span class="protocol-tag">QUIC</span>
                        <span class="protocol-tag">SPX</span>
                    </div>
                </div>
            </div>

            <!-- Layer 3 - Network -->
            <div class="osi-layer layer-3" onclick="toggleLayerDetails(this, 3)">
                <div class="layer-header">
                    <div class="layer-number">3</div>
                    <div class="layer-info">
                        <div class="layer-name">Network Layer</div>
                        <div class="layer-description">Routing and logical addressing across networks</div>
                    </div>
                    <div class="layer-icon">🌐</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Handles packet routing between networks using IP addresses. Determines optimal paths
                        through complex network topologies and enables global internet connectivity.
                    </p>
                    <strong style="color: var(--layer3-color); font-size: 1.1rem;">Network Protocols:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">IPv4</span>
                        <span class="protocol-tag">IPv6</span>
                        <span class="protocol-tag">ICMP</span>
                        <span class="protocol-tag">ARP</span>
                        <span class="protocol-tag">OSPF</span>
                        <span class="protocol-tag">BGP</span>
                        <span class="protocol-tag">RIP</span>
                        <span class="protocol-tag">EIGRP</span>
                    </div>
                </div>
            </div>

            <!-- Layer 2 - Data Link -->
            <div class="osi-layer layer-2" onclick="toggleLayerDetails(this, 2)">
                <div class="layer-header">
                    <div class="layer-number">2</div>
                    <div class="layer-info">
                        <div class="layer-name">Data Link Layer</div>
                        <div class="layer-description">Node-to-node delivery and error detection</div>
                    </div>
                    <div class="layer-icon">🔗</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Provides reliable frame transmission over physical links. Handles MAC addressing,
                        error detection, and flow control between directly connected network nodes.
                    </p>
                    <strong style="color: var(--layer2-color); font-size: 1.1rem;">Data Link Technologies:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">Ethernet</span>
                        <span class="protocol-tag">Wi-Fi 802.11</span>
                        <span class="protocol-tag">PPP</span>
                        <span class="protocol-tag">Frame Relay</span>
                        <span class="protocol-tag">ATM</span>
                        <span class="protocol-tag">HDLC</span>
                        <span class="protocol-tag">Bluetooth</span>
                        <span class="protocol-tag">Token Ring</span>
                    </div>
                </div>
            </div>

            <!-- Layer 1 - Physical -->
            <div class="osi-layer layer-1" onclick="toggleLayerDetails(this, 1)">
                <div class="layer-header">
                    <div class="layer-number">1</div>
                    <div class="layer-info">
                        <div class="layer-name">Physical Layer</div>
                        <div class="layer-description">Raw bit transmission over physical medium</div>
                    </div>
                    <div class="layer-icon">⚡</div>
                </div>
                <div class="layer-details">
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">
                        Defines electrical, mechanical, and timing specifications for transmitting raw bits.
                        The hardware foundation that carries all digital communication across transmission media.
                    </p>
                    <strong style="color: var(--layer1-color); font-size: 1.1rem;">Physical Media:</strong>
                    <div class="protocols-list">
                        <span class="protocol-tag">Copper Cable</span>
                        <span class="protocol-tag">Fiber Optic</span>
                        <span class="protocol-tag">Radio Waves</span>
                        <span class="protocol-tag">Microwave</span>
                        <span class="protocol-tag">Satellite</span>
                        <span class="protocol-tag">Infrared</span>
                        <span class="protocol-tag">USB</span>
                        <span class="protocol-tag">Thunderbolt</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Encapsulation Demo -->
    <section class="section">
        <h2>Data Encapsulation Process</h2>
        <div class="encapsulation-demo">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h3 style="color: var(--primary-color); font-size: 2rem; margin-bottom: 1rem;">
                    📦 How Data Travels Through the Stack
                </h3>
                <p style="color: var(--text-dim);">Watch how each layer adds its header as data moves down the stack</p>
            </div>
            <div class="encap-visual">
                <div class="encap-layer layer-7">
                    <div class="encap-header">DATA</div>
                    <div style="color: var(--text-light);">
                        <strong>Application Layer:</strong> Raw user data (email message, web request, file content)
                    </div>
                </div>
                <div class="encap-layer layer-4">
                    <div class="encap-header">TCP</div>
                    <div class="encap-header" style="background: rgba(255,255,255,0.1);">DATA</div>
                    <div style="color: var(--text-light);">
                        <strong>Transport Layer:</strong> Adds port numbers, sequence numbers, flow control information
                    </div>
                </div>
                <div class="encap-layer layer-3">
                    <div class="encap-header">IP</div>
                    <div class="encap-header" style="background: rgba(255,255,255,0.1);">TCP DATA</div>
                    <div style="color: var(--text-light);">
                        <strong>Network Layer:</strong> Adds source/destination IP addresses, routing information
                    </div>
                </div>
                <div class="encap-layer layer-2">
                    <div class="encap-header">ETH</div>
                    <div class="encap-header" style="background: rgba(255,255,255,0.1);">IP TCP DATA</div>
                    <div class="encap-header">FCS</div>
                    <div style="color: var(--text-light);">
                        <strong>Data Link Layer:</strong> Adds MAC addresses, frame check sequence for error detection
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: rgba(0,255,255,0.1); border-radius: 15px;">
                <p style="color: var(--primary-color); font-size: 1.1rem;">
                    💡 <strong>At the destination:</strong> This process is reversed (de-encapsulation)
                    as data moves up the stack to the receiving application
                </p>
            </div>
        </div>
    </section>

    <!-- Troubleshooting by Layer -->
    <section class="section">
        <h2>Systematic Troubleshooting by Layer</h2>
        <div class="troubleshooting-guide">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h3 style="color: var(--primary-color); font-size: 2rem; margin-bottom: 1rem;">
                    🔧 Layer-by-Layer Problem Resolution
                </h3>
                <p style="color: var(--text-dim);">Always start from Layer 1 and work your way up - most issues are physical!</p>
            </div>
            <div class="troubleshoot-grid">
                <div class="troubleshoot-item layer1">
                    <div class="troubleshoot-icon">⚡</div>
                    <div class="troubleshoot-title">Layer 1: Physical Issues</div>
                    <div class="troubleshoot-steps">
                        <ol style="list-style: none;">
                            <li>Check all cable connections</li>
                            <li>Verify LED indicators on devices</li>
                            <li>Test cable integrity</li>
                            <li>Check power supply status</li>
                            <li>Verify port functionality</li>
                            <li>Test with known good cables</li>
                        </ol>
                    </div>
                </div>

                <div class="troubleshoot-item layer2">
                    <div class="troubleshoot-icon">🔗</div>
                    <div class="troubleshoot-title">Layer 2: Data Link Problems</div>
                    <div class="troubleshoot-steps">
                        <ol style="list-style: none;">
                            <li>Check MAC address tables</li>
                            <li>Verify VLAN configurations</li>
                            <li>Review spanning tree status</li>
                            <li>Check for duplicate MAC addresses</li>
                            <li>Verify switch port settings</li>
                            <li>Monitor frame error counters</li>
                        </ol>
                    </div>
                </div>

                <div class="troubleshoot-item layer3">
                    <div class="troubleshoot-icon">🌐</div>
                    <div class="troubleshoot-title">Layer 3: Network Issues</div>
                    <div class="troubleshoot-steps">
                        <ol style="list-style: none;">
                            <li>Verify IP address configuration</li>
                            <li>Check routing table entries</li>
                            <li>Test gateway reachability</li>
                            <li>Validate subnet masks</li>
                            <li>Review ARP table entries</li>
                            <li>Check for IP conflicts</li>
                        </ol>
                    </div>
                </div>

                <div class="troubleshoot-item layer4">
                    <div class="troubleshoot-icon">🚚</div>
                    <div class="troubleshoot-title">Layer 4: Transport Problems</div>
                    <div class="troubleshoot-steps">
                        <ol style="list-style: none;">
                            <li>Check port accessibility</li>
                            <li>Verify firewall rules</li>
                            <li>Test service availability</li>
                            <li>Review connection timeouts</li>
                            <li>Check TCP/UDP configurations</li>
                            <li>Monitor connection states</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive OSI Quiz -->
    <section class="section">
        <h2>OSI Model Knowledge Quiz</h2>
        <div class="osi-quiz">
            <div style="margin-bottom: 3rem;">
                <h3 style="color: var(--primary-color); font-size: 2rem; margin-bottom: 1rem;">
                    🧠 Test Your OSI Knowledge
                </h3>
                <p style="color: var(--text-dim);">Challenge yourself with questions about the seven layers</p>
            </div>

            <div id="quizContainer">
                <div class="quiz-question" id="quizQuestion">
                    Which OSI layer is responsible for routing packets between different networks?
                </div>
                <div class="quiz-options" id="quizOptions">
                    <div class="quiz-option" onclick="selectAnswer(this, false)">Layer 2 - Data Link</div>
                    <div class="quiz-option" onclick="selectAnswer(this, true)">Layer 3 - Network</div>
                    <div class="quiz-option" onclick="selectAnswer(this, false)">Layer 4 - Transport</div>
                    <div class="quiz-option" onclick="selectAnswer(this, false)">Layer 5 - Session</div>
                </div>
                <div id="quizResult" style="margin-top: 2rem; display: none;">
                    <button style="background: var(--primary-color); color: var(--bg-dark); border: none; padding: 1rem 2rem; border-radius: 25px; font-weight: bold; cursor: pointer;" onclick="nextQuestion()">
                        Next Question →
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div style="max-width: 1400px; margin: 0 auto; padding: 0 2rem;">
            <h3 style="color: var(--layer7-color); margin-bottom: 1rem; font-size: 2.5rem; font-weight: 800;">tcp-ip.ch OSI Model</h3>
            <p style="color: var(--text-light); margin-bottom: 3rem; font-size: 1.2rem; max-width: 800px; margin-left: auto; margin-right: auto;">
                Master the seven-layer foundation that enables all network communication. From physical transmission
                to application services, understand how data flows through the complete networking stack.
            </p>
            <div style="background: rgba(255, 107, 107, 0.1); padding: 3rem; border-radius: 20px; margin: 3rem 0; border: 1px solid var(--border-glow);">
                <p style="color: var(--text-light); font-size: 1.1rem; font-style: italic; margin-bottom: 1rem;">
                    "The OSI model is not just a reference - it's a way of thinking about network problems systematically."
                </p>
                <p style="color: var(--layer7-color); font-weight: bold;">
                    — Network Troubleshooting Philosophy
                </p>
            </div>
            <p style="color: var(--text-muted); font-size: 0.9rem;">
                Layer by layer excellence • <a href="/" style="color: var(--accent-color);">Return to Hub</a>
            </p>
        </div>
    </footer>

    <script>
        // Create floating data packets
        function createDataPackets() {
            const container = document.getElementById('packetFlow');
            const packetTypes = ['HTTP', 'TCP', 'IP', 'ETH', 'DNS', 'FTP', 'SMTP', 'UDP'];

            function createPacket() {
                if (Math.random() > 0.7) {
                    const packet = document.createElement('div');
                    packet.className = 'data-packet';
                    packet.textContent = packetTypes[Math.floor(Math.random() * packetTypes.length)];
                    packet.style.top = Math.random() * 100 + '%';
                    packet.style.animationDelay = Math.random() * 3 + 's';
                    packet.style.animationDuration = (10 + Math.random() * 8) + 's';
                    container.appendChild(packet);

                    setTimeout(() => {
                        if (packet.parentNode) {
                            packet.parentNode.removeChild(packet);
                        }
                    }, 12000);
                }
            }

            setInterval(createPacket, 2000);
        }

        // Toggle layer details
        function toggleLayerDetails(layer, layerNum) {
            const details = layer.querySelector('.layer-details');
            const isActive = details.classList.contains('active');

            // Close all other layers
            document.querySelectorAll('.layer-details').forEach(detail => {
                detail.classList.remove('active');
            });

            // Toggle current layer
            if (!isActive) {
                details.classList.add('active');

                // Add visual feedback
                const layerNumber = layer.querySelector('.layer-number');
                layerNumber.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    layerNumber.style.transform = 'scale(1)';
                }, 300);
            }
        }

        // Show protocol information
        function showProtocolInfo(protocol, event) {
            event.stopPropagation();

            const tag = event.target;
            const originalTransform = tag.style.transform;
            tag.style.transform = 'scale(1.2)';
            tag.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.5)';

            setTimeout(() => {
                tag.style.transform = originalTransform;
                tag.style.boxShadow = '';
            }, 200);

            console.log(`Protocol info for: ${protocol}`);
            // Future: Implement modal with detailed protocol information
        }

        // Quiz functionality
        let currentQuestionIndex = 0;
        const quizQuestions = [
            {
                question: "Which OSI layer is responsible for routing packets between different networks?",
                options: ["Layer 2 - Data Link", "Layer 3 - Network", "Layer 4 - Transport", "Layer 5 - Session"],
                correct: 1
            },
            {
                question: "Which layer handles encryption and data compression?",
                options: ["Layer 5 - Session", "Layer 6 - Presentation", "Layer 7 - Application", "Layer 4 - Transport"],
                correct: 1
            },
            {
                question: "What is the main function of the Physical Layer?",
                options: ["Routing packets", "Error detection", "Raw bit transmission", "Session management"],
                correct: 2
            },
            {
                question: "Which protocols operate at the Transport Layer?",
                options: ["HTTP and FTP", "TCP and UDP", "IP and ICMP", "Ethernet and WiFi"],
                correct: 1
            }
        ];

        function selectAnswer(option, isCorrect) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt === option) {
                    opt.classList.add(isCorrect ? 'correct' : 'incorrect');
                } else if (isCorrect === false) {
                    // Show correct answer
                    const correctIndex = quizQuestions[currentQuestionIndex].correct;
                    if (Array.from(options).indexOf(opt) === correctIndex) {
                        opt.classList.add('correct');
                    }
                }
            });

            document.getElementById('quizResult').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex = (currentQuestionIndex + 1) % quizQuestions.length;
            const question = quizQuestions[currentQuestionIndex];

            document.getElementById('quizQuestion').textContent = question.question;

            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectAnswer(optionDiv, index === question.correct);
                optionsContainer.appendChild(optionDiv);
            });

            document.getElementById('quizResult').style.display = 'none';
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key >= '1' && e.key <= '7') {
                const layerNum = parseInt(e.key);
                const layer = document.querySelector(`.layer-${layerNum}`);
                if (layer) {
                    layer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    toggleLayerDetails(layer, layerNum);
                }
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createDataPackets();
            console.log('🏗️ Enhanced OSI Model page loaded with interactive features!');
        });
    </script>
</body>
</html>